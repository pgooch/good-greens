{"ast":null,"code":"import _classCallCheck from \"/Users/phillip/Development/vhosts/playground.develop/good-green/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/phillip/Development/vhosts/playground.develop/good-green/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/phillip/Development/vhosts/playground.develop/good-green/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/phillip/Development/vhosts/playground.develop/good-green/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/phillip/Development/vhosts/playground.develop/good-green/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/phillip/Development/vhosts/playground.develop/good-green/src/pages/home/index.js\";\nimport React, { Component } from 'react'; // import { Link } from 'react-router-dom'\n// import { push } from 'connected-react-router'\n// import { bindActionCreators } from 'redux'\n// import { connect } from 'react-redux'\n\nimport ReactTable from \"react-table\"; // Components\n\nimport SearchResult from '../components/search-result';\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props)); // Simple state for just the search term\n\n    _this.updateSearch = function (e) {\n      var term = e.target.querySelector('#search-term').value;\n      _this.state.input = term.toUpperCase();\n      e.preventDefault();\n\n      _this.getSearchResults();\n    };\n\n    _this.getSearchResults = function () {\n      var searchCall = ['https://data.lcb.wa.gov/resource/bhbp-x4eb.json?'];\n      searchCall.push('$where=organization%20like%20%27%25' + _this.state.input + '%25%27');\n      searchCall.push('or license%20like%20%27' + _this.state.input + '%25%27');\n      searchCall.push('or ubi%20like%20%27' + _this.state.input + '%25%27');\n      searchCall.push('&$order=%20organization');\n      fetch(searchCall.join('')).then(function (response) {\n        return response.json();\n      }).then(_this.storeSearchResults);\n    };\n\n    _this.storeSearchResults = function (resultArray) {\n      var tempState = _this.state;\n      tempState.results = resultArray;\n\n      _this.setState(tempState);\n\n      console.log('storeSearchResults', _this.state);\n    };\n\n    _this.displaySearchResultsSummary = function () {\n      console.log('you wanna display ', _this.state.results);\n      var table = '';\n\n      if (_this.state.results.length > 0) {\n        table = '<table id=\"search-results\">';\n\n        _this.state.results.forEach(function (record) {\n          table += '<tr>';\n          table += '<td>' + record.organization + '</td>';\n          table += '<td>' + record.license + '</td>';\n          table += '<td>' + record.type + '</td>';\n          table += '<td>' + record.active + '</td>';\n          table += '</tr>';\n        });\n\n        table += '</table>';\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"Found \", _this.state.results.length, \" licenses with the search term \\\"\", _this.state.input, \"\\\".\"));\n    };\n\n    _this.state = {\n      input: '',\n      results: []\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"render\",\n    value: function render() {\n      var tableCols = [{\n        Header: 'Company',\n        accessor: 'organization'\n      }, {\n        Header: 'License Type',\n        accessor: 'type'\n      }, {\n        Header: 'License Number',\n        accessor: 'license'\n      }, {\n        Header: 'Status',\n        accessor: 'active'\n      }];\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \" Enter a name, license number, or UBI number\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        onSubmit: this.updateSearch,\n        id: 'main-search-form',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: 'search-term',\n        name: 'search-term',\n        type: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Search\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(SearchResult, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), \"// \", React.createElement(ReactTable, {\n        data: this.state.results,\n        columns: tableCols,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), this.displaySearchResultsSummary()));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default Home;","map":{"version":3,"sources":["/Users/phillip/Development/vhosts/playground.develop/good-green/src/pages/home/index.js"],"names":["React","Component","ReactTable","SearchResult","Home","props","updateSearch","e","term","target","querySelector","value","state","input","toUpperCase","preventDefault","getSearchResults","searchCall","push","fetch","join","then","response","json","storeSearchResults","resultArray","tempState","results","setState","console","log","displaySearchResultsSummary","table","length","forEach","record","organization","license","type","active","tableCols","Header","accessor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n// import { Link } from 'react-router-dom'\n// import { push } from 'connected-react-router'\n// import { bindActionCreators } from 'redux'\n// import { connect } from 'react-redux'\nimport ReactTable from \"react-table\";\n\n// Components\nimport SearchResult from '../components/search-result'\n\nclass Home extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// Simple state for just the search term\n\t\tthis.state = {\n\t\t\tinput: '',\n\t\t\tresults: [],\n\t\t}\n\t}\n\n\tupdateSearch = (e) => {\n\t\tlet term = e.target.querySelector('#search-term').value\n\t\tthis.state.input = term.toUpperCase();\n\t\te.preventDefault()\n\t\tthis.getSearchResults();\n\t}\n\n\t// The following function handle getting the search results and displaying the information in a table\n\tgetSearchResults = () => {\n\t\tlet searchCall = ['https://data.lcb.wa.gov/resource/bhbp-x4eb.json?'];\n\t\tsearchCall.push('$where=organization%20like%20%27%25'+this.state.input+'%25%27');\n\t\tsearchCall.push('or license%20like%20%27'+this.state.input+'%25%27');\n\t\tsearchCall.push('or ubi%20like%20%27'+this.state.input+'%25%27');\n\t\tsearchCall.push('&$order=%20organization');\n\t\tfetch(searchCall.join('')).then(response => response.json()).then(this.storeSearchResults)\n\t}\n\tstoreSearchResults = (resultArray) => {\n\n\t\tlet tempState = this.state\n\t\ttempState.results = resultArray\n\t\tthis.setState(tempState)\n\t\tconsole.log('storeSearchResults',this.state)\n\n\t}\n\tdisplaySearchResultsSummary = () => {\n\t\tconsole.log('you wanna display ',this.state.results)\n\n\t\tlet table = '';\n\t\tif(this.state.results.length > 0 ){\n\t\t\ttable = '<table id=\"search-results\">';\n\t\t\tthis.state.results.forEach((record)=>{\n\t\t\t\ttable += '<tr>';\n\t\t\t\t\ttable += '<td>'+record.organization+'</td>';\n\t\t\t\t\ttable += '<td>'+record.license+'</td>';\n\t\t\t\t\ttable += '<td>'+record.type+'</td>';\n\t\t\t\t\ttable += '<td>'+record.active+'</td>';\n\t\t\t\ttable += '</tr>';\n\t\t\t})\n\t\t\ttable += '</table>';\n\t\t}\n\n\t\treturn (<div>\n\t\t\t<b>Found {this.state.results.length} licenses with the search term \"{this.state.input}\".</b>\n\t\t</div>)\n\t}\n\n\trender(){ \n\t\tconst tableCols = [\n\t\t\t{Header:'Company',\t\t\taccessor:'organization'},\n\t\t\t{Header:'License Type',\t\taccessor:'type'},\n\t\t\t{Header:'License Number',\taccessor:'license'},\n\t\t\t{Header:'Status',\t\t\taccessor:'active'},\n\t\t]\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<i> Enter a name, license number, or UBI number</i><br/>\n\t\t\t\t<form onSubmit={this.updateSearch} id={'main-search-form'}>\n\t\t\t\t  \t<input id={'search-term'} name={'search-term'} type=\"search\" />\n\t\t\t\t  \t<button>Search</button>\n\t\t\t\t</form>\n\t\t\t\t<div>\n\t\t\t\t\t<SearchResult />\n\t\t\t\t\t// <ReactTable data={this.state.results} columns={tableCols} />\n\n\t\t\t\t\t{this.displaySearchResultsSummary()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}