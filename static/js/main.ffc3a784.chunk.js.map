{"version":3,"sources":["reducer.js","resources/_svg-spritesheet.js","components/header-bar/index.js","components/footer/index.js","components/search-result/index.js","components/search-results-message/index.js","components/home/index.js","actions.js","components/details-similarbox/index.js","components/license-box/index.js","components/details-visit/index.js","components/details/index.js","components/about/index.js","components/naughty-list/index.js","App.js","serviceWorker.js","index.js","../README.md"],"names":["InitialState","searchInput","searchResults","Reducer","state","arguments","length","undefined","action","tempState","type","term","results","console","log","SVGSpritesheet","this","props","searchStatus","react_default","a","createElement","style","display","id","viewBox","d","x","y","className","Component","HeaderBar","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","toggle","bind","assertThisInitialized","isOpen","setState","currentPathname","location","pathname","reactstrap_es","dark","expand","tag","Link","to","onClick","navbar","active","HeaderBarWithRouter","withRouter","Footer","xs","href","target","rel","SearchResult","renderDetailSubBox","result","renderViolations","violations","renderTypes","license_number","types","lic","forEach","typePretty","replace","typeKey","typeIcon","split","icon","key","title","producerTier","push","data","license","organization","classes","licStatus","substr","toLowerCase","apply","toConsumableArray","urlPrettyOrg","join","address","address_line_2","city","county","SearchResultsMessage","page","pageNumber","message","addedClass","showingSubString","resultCount","resultsPerPage","Home","updateSearch","e","preventDefault","querySelector","value","input","saveSearchTerm","getSearchResults","pTerm","toUpperCase","searchCall","fetch","then","response","json","storeSearchResults","resultArray","saveSearchResults","displaySearchResults","match","params","i","pageCount","search_result","handlePageChange","goToNum","history","selected","onSubmit","placeholder","name","defaultValue","search_results_message","flush","dist_default","containerClassName","Math","ceil","pageRangeDisplayed","marginPagesDisplayed","onPageChange","pageClassName","pageLinkClassName","activeClassName","breakClassName","previousClassName","nextClassName","previousLinkClassName","nextLinkClassName","disabledClassName","connect","dispatch","SimilarLicenses","outputSimilarResults","similars","combinedDetails","lics","current","LicenseBox","licenseNavDisplay","licenses","updateDisplayedLicense","disabled","licenseNavDisabled","data-adjustment","displayed","direction","adj","parseInt","dataset","adjustment","newI","zip","dayphone","ubi","createdate","Visit","output","hasDated","visitRecord","records","record","index","displayDate","date","displayLicense","showLic","displayDetail","activity","wac_code","violation_type","penalty_type","Detail","getLicenseDetails","licNum","licDetailsCall","storeAPIResults","getSimilarLicenses","similarLicenses","getVisits","visitsCall","getViolations","violationsCall","source","concat","indexOf","Error","visits","combineVisitsViolations","hasViolation","combinedTemp","visit","objectSpread","violation","visit_date","keys","map","k","vvOrdered","displayVisits","details_visit","summary","licenseDetails","displayedLicense","license_box","details_similarbox","About","readme","_this2","ReadMe","r","text","t","react_markdown_default","NaughtyList","saveData","saveType","Promise","resolve","reject","violatorsOrdered","violatorsData","getNaughty","naughtyCall","getLicenseData","justLics","violator","cleanNaughtyList","splice","displayList","pageSize","count_penalty_type","render","App","BrowserRouter","basename","process","react_router_scroll_4_es","header_bar","Switch","Route","exact","path","component","Details","footer","_svg_spritesheet","Boolean","window","hostname","store","compose","devToolsExtension","f","createStore","ReactDOM","es","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.ffc3a784.chunk.js","sourcesContent":["const InitialState = {\n\tsearchInput : \t'',\n\tsearchResults : [], \n};\n\nconst Reducer = (state=InitialState,action) => {\n\tlet tempState = state;\n\tswitch(action.type){\n\t\tcase 'SAVE_SEARCH_TERM':\n\t\t\ttempState.searchInput = action.term\n\t\tbreak;\n\t\tcase 'SAVE_SEARCH_RESULTS':\n\t\t\ttempState.searchResults = action.results\n\t\tbreak;\n\t\tcase '@@INIT': break; // This is reduxes initilizer, we know about it\n\t\tdefault:\n\t\t\tconsole.log('Reducer does not understand the \"'+action.type+'\" action.',action,state)\n\t\tbreak;\n\t}\n\treturn tempState\n}\n\nexport default Reducer;","/*\n\tThis is the componeent that will load the SVG spritesheet into an elemeent styled to not display. \n\tThis keeps performace good when trying to use 1000+ SVG icons on a page.\n\tThis component will be included at App.js and then you can use the following code to render one of the SVGs elsewhere.\n\t\n\t<svg><use key={typeKey} className={'type-icon type-'+type} title={typePretty} className=\"leaf-icon\" href=\"#plain-leaf\"></use></svg>\n\n\tAll the SVGs are here for future use, perhaps a better solution that doesn't choke at thousands of uses.\n*/\n\nimport React, { Component } from 'react'\n\nclass SVGSpritesheet extends Component {\n\trender(){ \n\t\tif(this.props.searchStatus === 'waiting'){\n\t\t\treturn null\n\t\t}else{\n\t\t\treturn (<svg style={{display: 'none'}}>\n\t\t\t\t<symbol id=\"producer\" viewBox=\"0 0 64 64\">\n\t\t\t\t\t<path d=\"M32,2c0,0,7.2,10,7.2,21.6s-7.1,20.8-7.1,20.8s-7.4-9.2-7.4-20.8S32,2,32,2z M4.5,21.1c0,0,3,9,10.2,15.4s15.9,8,15.9,8s-2.4-8.7-9.6-15.1S4.5,21.1,4.5,21.1z M59.7,21.1c0,0-3,9-10.2,15.4s-15.9,8-15.9,8s2.4-8.7,9.6-15.1S59.7,21.1,59.7,21.1z M59,44.5c0,0-5.7,3.9-12.6,4.2s-12.5-2.9-12.5-2.9s5.2-3.9,12.1-4.3C53,41.1,59,44.5,59,44.5z M5.3,44.5c0,0,5.7,3.9,12.6,4.2s12.5-2.9,12.5-2.9s-5.2-3.9-12.1-4.3C11.4,41.1,5.3,44.5,5.3,44.5z M45.8,56.1c0,0-4.4-0.6-7.8-3.3s-4.7-6.6-4.7-6.6s4.1,0.3,7.6,3.1C44.3,52,45.8,56.1,45.8,56.1z M18.5,56.7c0,0,4.4-0.6,7.8-3.3s4.7-6.6,4.7-6.6s-4.1,0.3-7.6,3.1C19.9,52.6,18.5,56.7,18.5,56.7z M33.1,45.1h-1.8c0,0,0.5,11.4,5,17.7c0.5,0.2,1.9-0.4,2.9-0.4s1.4-0.9,1.4-0.9S34.4,56.6,33.1,45.1z\"/>\n\t\t\t\t</symbol>\n\t\t\t\t<symbol id=\"tier-1\" viewBox=\"0 0 64 64\">\n\t\t\t\t\t<text x=\"40\" y=\"62\" className={'svg-icon-text'}>1</text>\n\t\t\t\t</symbol>\n\t\t\t\t<symbol id=\"tier-2\" viewBox=\"0 0 64 64\">\n\t\t\t\t\t<text x=\"40\" y=\"62\" className={'svg-icon-text'}>2</text>\n\t\t\t\t</symbol>\n\t\t\t\t<symbol id=\"tier-3\" viewBox=\"0 0 64 64\">\n\t\t\t\t\t<text x=\"40\" y=\"62\" className={'svg-icon-text'}>3</text>\n\t\t\t\t</symbol>\n\t\t\t\t<symbol id=\"medical\" viewBox=\"0 0 64 64\">\n\t\t\t\t\t<path d=\"M49.4,40.7c-3.5,0-6.4,2.7-6.8,6.1H31.3v-6.2l9.8-15c0.3-0.4,0.6-0.9,0.9-1.4l0.2-0.3l0,0c1-1.9,1.6-4,1.6-6.3V1.1h-7.2v2.5h1.8V2.9H42v14.7c0,2.1-0.5,4-1.5,5.6l-0.8,1.2c-2.1,2.8-5.4,4.6-9.2,4.6c-3.5,0-6.7-1.6-8.8-4.2l-1.3-2l0,0c-0.8-1.6-1.3-3.4-1.3-5.3V2.9h3.5v0.7h1.8V1.1h-7.1v16.6c0,3.2,1.1,6.1,3,8.4l9.3,14.2v6.6h-9.1c-4.6,0-8.4,3.8-8.4,8.4s3.8,8.4,8.4,8.4H23c4.6,0,8.4-3.8,8.4-8.4v-6.6h11.4c0.5,3.2,3.3,5.7,6.7,5.7c3.8,0,6.8-3.1,6.8-6.8C56.3,43.8,53.2,40.7,49.4,40.7z M29.5,55.2c0,3.6-3,6.6-6.6,6.6h-2.5c-3.6,0-6.6-3-6.6-6.6s3-6.6,6.6-6.6h9.1V55.2L29.5,55.2z M30.6,38.5l-5.8-8.9c1.7,0.8,3.7,1.3,5.8,1.3s4.1-0.5,5.9-1.4L30.6,38.5z M49.4,52.5c-2.8,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5S52.2,52.5,49.4,52.5z\"/>\n\t\t\t\t</symbol>\n\t\t\t\t<symbol id=\"processor\" viewBox=\"0 0 64 64\">\n\t\t\t\t\t<path d=\"M36.7,12.5V9.7H38c0.7,0,1.2-0.6,1.2-1.3v-5c0-0.7-0.5-1.3-1.2-1.3H11.4c-0.7,0-1.2,0.6-1.2,1.3v5c0,0.7,0.5,1.3,1.2,1.3h1.2v2.9c-4.4,1.9-7.2,6.3-7.2,11.3v33.4c0,2.8,2.2,5,4.8,5h29c2.7,0,4.8-2.2,4.8-5V23.8C44,18.9,41.1,14.4,36.7,12.5z M10,23.4c0.5,0,0.9-0.4,0.9-0.9c0.1-1.6,1.6-3.7,3-4.1c0.5-0.1,0.7-0.6,0.6-1.2c-0.1-0.5-0.6-0.8-1.1-0.6c-2.2,0.6-4.2,3.5-4.3,5.9C9.1,22.9,9.5,23.4,10,23.4z M5.4,27.9H44v27.4H5.4V27.9z M8.6,32h10.1 M13.6,44.9V32 M8.6,51.2H44 M8.6,47.9h8.2 M29.2,45V31 M21.8,44.9V31 M21.6,37.9h7.1 M39.8,34.6c0-3.5-6.5-3.8-6.5,0s0,2.1,0,6.3s6.5,4.3,6.5,0 M49.3,4.9l-3.8,0.4c-0.3,0-0.5,0.2-0.7,0.4c-0.1,0.2-0.2,0.5-0.1,0.8l2.4,7l-0.5,0.1C45,13.7,43.8,15.4,44,17l7.5,44.4c0.1,0.5,0.5,0.8,1,0.7l2.5-0.3c0.2,0,0.5-0.2,0.6-0.3c0.1-0.2,0.2-0.4,0.2-0.6l-2.5-45c0-0.8-0.5-1.6-1.1-2.2c-0.6-0.5-1.4-0.7-2.2-0.6l-0.5,0.1l0.9-7.3c0-0.3-0.1-0.5-0.3-0.7C49.9,4.9,49.6,4.8,49.3,4.9z M49.9,52.4l5.4-0.7\"/>\n\t\t\t\t</symbol>\n\t\t\t\t<symbol id=\"retailer\" viewBox=\"0 0 64 64\">\n\t\t\t\t\t<path d=\"M63,45v16c0,1.1-0.9,2-2,2H3c-1.1,0-2-0.9-2-2V45H63z M3,45v-6l2-2h54l2,2v6 M59,37V14c0-1.1-0.8-2-1.9-2c0,0-0.1,0-0.1,0h-3 M5,37V14c0-1.1,0.8-2,1.9-2c0,0,0.1,0,0.1,0h3 M27,1h26c0.6,0,1,0.4,1,1v12c0,0.6-0.4,1-1,1H27c-0.6,0-1-0.4-1-1V2C26,1.4,26.4,1,27,1z M30,5h20v6H30V5z M1,49h24l1,4h12l1-4h24 M28,49h8 M26,24h4v-4h-4 M34,20h4v4h-4V20z M42,20h4v4h-4V20z M42,28h4v4h-4V28z M34,28h4v4h-4V28z M26,28h4v4h-4V28z M6,41h2 M56,41h2 M10,41h44 M10,5h12v15H10V5z M22,12h4 M10,24h12v8H10V24z M50,19h4v13h-4V19z M8,20h16 M10,28h12 M13,9h6 M13,13h2 M17,13h2 M5,55v3c0,0.5,0.4,1,1,1c0,0,0,0,0,0h3\"/>\n\t\t\t\t</symbol>\n\t\t\t\t<symbol id=\"transportation\" viewBox=\"0 0 64 64\">\n\t\t\t\t\t<path d=\"M15.7,43.3c3,0,5.5,2.5,5.5,5.5s-2.5,5.5-5.5,5.5s-5.5-2.5-5.5-5.5C10.2,45.7,12.6,43.3,15.7,43.3 M47,43.3c3,0,5.5,2.5,5.5,5.5S50,54.3,47,54.3s-5.5-2.5-5.5-5.5C41.5,45.7,43.9,43.3,47,43.3 M24.2,48.8h14.3 M7.1,48.8H4c-0.8,0-1.6-0.5-1.9-1.2c-0.2-0.6-0.5-1.4-0.5-2.4c0-2.8,0-28.1,0-28.1s0-2.7,2.3-2.7h34.7c1.5,0,2.7,1.2,2.8,2.6v0.1c0,0,4.3,0,7.5,0s4.7,2.5,4.7,2.5s5.5,8.2,7.1,10.6s1.4,3.7,1.4,3.7s0,8.7,0,12.8c0,2.1-0.7,2.1-1.4,2.1s-5.1,0-5.1,0 M41.4,17v20.6 M41.4,37.6H1.7 M44.7,22v10.4c0,1.1,0.9,2,2,2h8.2c1.1,0,2-0.9,2-2v-0.7c0-0.6-0.2-1.3-0.6-1.8L50,21.3c-0.4-0.5-1-0.8-1.7-0.8h-2.2C45.4,20.4,44.7,21.1,44.7,22z\"/>\n\t\t\t\t</symbol>\n\t\t\t</svg>)\n\t\t}\n\t}\n}\n\nexport default SVGSpritesheet;","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem, NavLink } from 'reactstrap';\nimport { withRouter } from \"react-router\";\n\nclass HeaderBar extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.toggle = this.toggle.bind(this);\n\t\tthis.state = {\n\t  \t\tisOpen: false\n\t\t};\n\t}\n\ttoggle() { // Simple menu toggel per reactstrap\n\t\tthis.setState({\n\t  \t\tisOpen: !this.state.isOpen\n\t\t});\n\t}\n\trender(){ \n\t\tlet currentPathname = this.props.location.pathname;\n\t\treturn (\n\t        <Navbar dark expand=\"sm\" className={'navbar'}>\n\t          <NavbarBrand tag={Link} to=\"/\" >Good Greens</NavbarBrand>\n\t          <NavbarToggler onClick={this.toggle} />\n\t          <Collapse isOpen={this.state.isOpen} navbar>\n\t            <Nav className=\"ml-auto\" navbar>\n\t              <NavItem>\n\t                <NavLink tag={Link} to=\"/\" active={currentPathname==='/'||currentPathname===''?true:false}>Search</NavLink>\n\t              </NavItem>\n\t              <NavItem>\n\t                <NavLink tag={Link} to=\"/naughty/\" active={currentPathname==='/naughty/'?true:false}>Naughty List</NavLink>\n\t              </NavItem>\n\t              <NavItem>\n\t                <NavLink tag={Link} to=\"/about/\" active={currentPathname==='/about/'?true:false}>About & FAQ </NavLink>\n\t              </NavItem>\n              </Nav>\n\t          </Collapse>\n\t        </Navbar>\n\t\t)\n\t}\n}\n\nconst HeaderBarWithRouter = withRouter(HeaderBar);\nexport default HeaderBarWithRouter;","import React, { Component } from 'react'\n\nimport { Container, Row, Col } from 'reactstrap';\n\nclass Footer extends Component {\n\trender(){ \n\t\treturn (<Container id=\"footer\">\n\t\t\t<Row>\n\t\t\t\t<Col xs=\"12\">This site is in no way affiliated with any of the companies or brands listed.</Col>\n\t\t\t\t<Col xs=\"12\">Information provided by the <a href=\"https://data.lcb.wa.gov/\" target=\"_blank\" rel=\"noopener noreferrer\">Washington State Liquor and Cannabis Control Board</a> API and may not be completly up-to-date.</Col>\n\t\t\t\t<Col xs=\"12\">Made with; <a href=\"https://reactjs.org/\" target=\"_blank\" rel=\"noopener noreferrer\">React</a>, <a href=\"https://redux.js.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Redux</a>, <a href=\"https://reacttraining.com/react-router/\" target=\"_blank\" rel=\"noopener noreferrer\">React Router</a>, <a href=\"https://reactstrap.github.io/\" target=\"_blank\" rel=\"noopener noreferrer\">reactstrap</a>, <a href=\"https://github.com/AdeleD/react-paginate\" target=\"_blank\" rel=\"noopener noreferrer\">React Paginate</a>, <a href=\"https://sass-lang.com/\" target=\"_blank\" rel=\"noopener noreferrer\">SASS</a>, and hosted on <a href=\"# put repo link here\" rel=\"noopener noreferrer\">GitHub</a></Col>\n\t\t\t</Row>\n\t\t</Container>)\n\t}\n}\n\nexport default Footer;","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Row, Col, ListGroupItem } from 'reactstrap';\n\nclass SearchResult extends Component {\n\t\n\t// This will render types or violations based on the compontent type prop passed\n\trenderDetailSubBox = (result) => {\n\t\tif(this.props.type==='naughtyList'){\n\t\t\treturn this.renderViolations(result.violations);\n\t\t}else{ // The OG default search result\n\t\t\treturn this.renderTypes(result.license_number,result.types);\n\t\t}\n\t} \n\n\t// This is for the orginization types, there are several options and they use the SVG spritesheet included in App.js\n\trenderTypes(lic,types){\n\t\tlet results = [];\n\t\ttypes.forEach((type)=>{\n\t\t\t\n\t\t\t// Prepare\n\t\t\tlet typePretty = type.replace(/-/g,' ');\n\t\t\tlet typeKey = 'lic-'+lic+'-type-'+type;\n\t\t\tlet typeIcon = type.split('-')[0];\n\n\t\t\t// This is the base icon\n\t\t\tlet icon = [<use key={typeKey+'-icon'} className={'type-icon type-'+type} title={typePretty} href={'#'+typeIcon}></use>]\n\n\t\t\t// If the type is producer we need to also use the number\n\t\t\tif(typeIcon === 'producer'){\n\t\t\t\tlet producerTier = type.split('-')[2]\n\t\t\t\ticon.push(<use key={typeKey+'-tier-number'} className={'tier-number'} title={'Tier '+producerTier} href={'#tier-'+producerTier}></use>)\n\t\t\t}\n\n\t\t\t// The main icon and the push\n\t\t\tresults.push(<svg key={typeKey}>{icon}</svg>)\n\t\t})\n\t\treturn results\n\t}\n\n\t// This is for the violation count. Make it look nice.\n\trenderViolations(violations){\n\t\treturn (<h3 className={'violations'}>{violations}<i>Violations</i></h3>);\n\t}\n\t\n\t// You know what this does.\n\trender(){ \n\t\tconst result = this.props.data;\n\t\tif(result===undefined || result.license===undefined || result.organization===undefined){\n\t\t\treturn null\n\t\t}else{\n\t\t\t// Lets look at the results and add some classes in\n\t\t\tlet classes = ['search-result']\n\t\t\tlet licStatus = '';\n\t\t\t\n\t\t\t// Process the license status for display\n\t\t\tif(result.active.substr(0,6)==='ACTIVE'){\n\t\t\t\tlicStatus = ''; // No need to say active 911 times on the page\n\t\t\t\tclasses.push('lic-active')\n\n\t\t\t}else if(result.active.substr(0,7)==='PENDING'){\n\t\t\t\tlicStatus = '(Pending)';\n\t\t\t\tclasses.push('lic-pending')\n\n\t\t\t}else{\n\t\t\t\tlicStatus = result.active;\n\t\t\t\tclasses.push('lic-unknown')\n\t\t\t}\n\t\t\t\n\t\t\t// Get the types and add them as classes\n\t\t\tresult.types = result.type.replace(/MARIJUANA /g,'').toLowerCase().replace(/ /g,'-').split('/');\n\t\t\tclasses.push(...result.types);\n\n\t\t\t// Prepare a pretty looking URL\n\t\t\tlet urlPrettyOrg = result.organization.toLowerCase().replace(/[^a-z0-9]+/g,'-');\n\n\t\t\t// And finally the return\n\t\t\treturn (\n\t\t\t\t<ListGroupItem key={'licnumkey'+result.license} className={classes.join(' ')}>\n\t\t\t\t\t<Link to={'/details/'+result.license+'/'+urlPrettyOrg}>\n\t\t\t\t\t\t<Row className={'d-flex'}>\n\t\t\t\t\t\t\t<Col xs=\"auto\" className={'mr-auto'}>\n\t\t\t\t\t\t\t\t<h4>{result.organization}</h4> <h5>{licStatus} License# {result.license}</h5><br/>\n\t\t\t\t\t\t\t\t<address>{result.address+' '+(result.address_line_2!==undefined?result.address_line_2:'')+' '+result.city+', '+result.county+' county '+result.state}</address>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col xs=\"auto\" className={'extra'}>\n\t\t\t\t\t\t\t\t{this.renderDetailSubBox(result)}\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Link>\n\t\t\t\t</ListGroupItem>\n\t\t\t)\t\t\t\n\t\t}\n\t}\n}\n\nexport default SearchResult;\n\n// Paste this into the return to see everything\n// <pre>{JSON.stringify(result,null,2)}</pre>","import React, { Component } from 'react'\nimport { Row, Col } from 'reactstrap';\n\nclass SearchResultsMessage extends Component {\n\trender(){ \n\t\tlet page = this.props.pageNumber === undefined ? 1 : this.props.pageNumber;\n\n\t\tif(this.props.searchStatus === 'waiting'){\n\t\t\tlet message = ''\n\t\t\tlet addedClass = 'waiting';\n\t\t\treturn (<Row className={'search-message'}><Col className={addedClass}>{message}</Col></Row>)\n\t\t}else{\n\t\t\tlet message = 'Searching the Washington State Liquor and Cannabis Control Board API...'\n\t\t\tlet addedClass = 'searching';\n\t\t\tif(this.props.searchStatus==='completed'){\n\t\t\t\taddedClass = 'searched';\n\t\t\t\tlet showingSubString = '';\n\t\t\t\tif(this.props.resultCount > this.props.resultsPerPage){\n\t\t\t\t\tshowingSubString = ', showing results '+(((page-1)*this.props.resultsPerPage)+1)+' to '+(page*this.props.resultsPerPage);\n\t\t\t\t}\n\t\t\t\tif(this.props.resultCount === 0){\n\t\t\t\t\taddedClass += ' none-found';\n\t\t\t\t\tmessage = 'Unable to find any orginizations that match your search.'\n\t\t\t\t}else if(this.props.resultCount < 1000){\n\t\t\t\t\tmessage = 'Found '+this.props.resultCount+' licenses matching your search'+showingSubString+'.'\n\t\t\t\t}else{// at 1000 resutls we are gonna guess there might be more\n\t\t\t\t\tmessage = 'Found at least 1,000 licenses matching your search'+showingSubString+'.';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn (<Row className={'search-message'}><Col className={addedClass}>{message}</Col></Row>)\n\t\t}\n\t}\n}\n\nexport default SearchResultsMessage;\n\n// Paste this into the return to see everything\n// <pre>{JSON.stringify(this.props,null,2)}</pre>\n\n\n","import React, { Component } from 'react'\nimport ReactPaginate from 'react-paginate';\nimport { connect } from \"react-redux\";\nimport { saveSearchTerm, saveSearchResults } from '../../actions.js';\n\n// Components\nimport { Container, Row, Col, ListGroup } from 'reactstrap';\nimport SearchResult from '../search-result'\nimport SearchResultsMessage from '../search-results-message'\n\nclass Home extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinput: this.props.searchInput,\n\t\t\tresults: this.props.searchResults,\n\t\t\tsearchStatus: 'waiting',\n\t\t\tpageCount: 50,\n\t\t}\n\t\tif(this.state.results.length>0){\n\t\t\tthis.state.searchStatus = 'completed'\n\t\t}\n\t}\n\n\t// Simply updates the state and then starts the call against the API\n\tupdateSearch = (e) => {\n\t\te.preventDefault()\n\t\tlet term = e.target.querySelector('#search-term').value\n\t\t\n\t\t// Get a temp state then update\n\t\tlet tempState = this.state\n\t\ttempState.input = term\n\t\ttempState.searchStatus = 'searching'\n\t\tthis.setState(tempState)\n\n\t\t// Save it into the redux store\n\t\tthis.props.saveSearchTerm(term); \n\n\t\t// Get the search results (via the API)\n\t\tthis.getSearchResults();\n\t}\n\n\t// This will make a call against the licenses enpoint with the search term. It's kinda messy but it searches against name, ubi, \n\t// and lic# since you can easily find one of those things on the packaging (or so I've been told).\n\tgetSearchResults = () => {\n\t\t// Clean up the term\n\t\tlet pTerm = this.state.input.toUpperCase();\n\n\t\t// This will create a nice long query\n\t\tlet searchCall = ['https://data.lcb.wa.gov/resource/bhbp-x4eb.json?'];\n\t\tsearchCall.push('$where=organization%20like%20%27%25'+pTerm+'%25%27');\n\t\tsearchCall.push('or license%20like%20%27'+pTerm+'%25%27');\n\t\tsearchCall.push('or ubi%20like%20%27'+pTerm+'%25%27');\n\t\tsearchCall.push('&$order=%20organization');\n\n\t\t// Fetch the data\n\t\tfetch(searchCall.join('')).then(response => response.json()).then(this.storeSearchResults)\n\t}\n\t// This stores the latest search results in the state for display later\n\tstoreSearchResults = (resultArray) => {\n\t\t// Get a temp state, update it, then setState\n\t\tlet tempState = this.state\n\t\ttempState.results = resultArray\n\t\ttempState.searchStatus = 'completed';\n\t\tthis.setState(tempState)\n\n\t\t// Save the search results to the react store\n\t\tthis.props.saveSearchResults(resultArray); \n\t}\n\n\t// Simply loops to call the SearchResult component\n\tdisplaySearchResults = () => {\n\t\tlet page = this.props.match.params.page;\n\t\tpage = page === undefined ? 1 : page;\n\t\tlet results = [];\n\n\t\tif(this.state.results.length>0){\n\t\t\tfor(let i = (page-1)*this.state.pageCount ; i < (page*this.state.pageCount) ; i++){\n\t\t\t\tif(this.state.results[i] !== undefined){\n\t\t\t\t\tresults.push(<SearchResult data={this.state.results[i]} key={'searchResultsLic'+this.state.results[i].license}/>)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn results;\n\t}\n\n\t// Simply updates the page number in the state, all the display logic is in the module or in displayList\n\thandlePageChange = (goToNum) => {\n\t\tthis.props.history.push('/search/'+(goToNum.selected+1));\n\t}\n\n\t// Simple output, not really looking for a bnuch of hubub\n\trender(){ \n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<Row><Col><p>{/* At some point I should put some copy text here. */}</p></Col></Row>\n\t\t\t\t<form onSubmit={this.updateSearch} id={'main-search-form'} className={'row'}>\n\t\t\t\t  \t<input placeholder={'Enter a orginization name, license number, or UBI number.'} id={'search-term'} name={'search-term'} type=\"search\" defaultValue={this.state.input} className={'col'} />\n\t\t\t\t  \t<button className={'col-sm-2'}>Search</button>\n\t\t\t\t</form>\n\t\t\t\t<SearchResultsMessage searchStatus={this.state.searchStatus} resultCount={this.state.results.length} resultsPerPage={this.state.pageCount} pageNumber={this.props.match.params.page}/>\n\t\t\t\t<ListGroup className={'row'} flush>\n\t\t\t\t\t{this.displaySearchResults()}\n\t\t\t\t</ListGroup>\n\t\t\t\t<ReactPaginate \n\t\t\t\t\tcontainerClassName={(this.state.results.length<=this.state.pageCount?'pagination hidden':'pagination justify-content-center')}\n\t\t\t\t\tpageCount={Math.ceil(this.state.results.length/this.state.pageCount)} \n\t\t\t\t\tpageRangeDisplayed={5} \n\t\t\t\t\tmarginPagesDisplayed={3} \n\t\t\t\t\tonPageChange={this.handlePageChange}\n\t\t\t\t\tpageClassName={'page-item'}\n\t\t\t\t\tpageLinkClassName={'page-link'}\n\t\t\t\t\tactiveClassName={'active'}\n\t\t\t\t\tbreakClassName={'page-link page-item disabled'}\n\t\t\t\t\tpreviousClassName={'page-item'}\n\t\t\t\t\tnextClassName={'page-item'}\n\t\t\t\t\tpreviousLinkClassName={'page-link'}\n\t\t\t\t\tnextLinkClassName={'page-link'}\n\t\t\t\t\tdisabledClassName={'disabled'}\n\t\t\t\t/>\n\t\t\t</Container>\n\t\t)\n\t}\n}\n\n\nconst mapStateToProps = (state) => {\n\treturn state;\n};\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsaveSearchTerm: (term) => { dispatch(saveSearchTerm(term)) },\n\t\tsaveSearchResults: (results) => { dispatch(saveSearchResults(results)) \t}\n\t}\n}\nexport default connect(mapStateToProps,mapDispatchToProps)(Home)\n\n// export default Home;","export const saveSearchTerm = (passedTerm) => {\n\treturn {\n\t    'type': 'SAVE_SEARCH_TERM',\n\t    'term': passedTerm\n\t}\n}\n\nexport const saveSearchResults = (results) => {\n\treturn {\n\t    'type': 'SAVE_SEARCH_RESULTS',\n\t    'results': results\n\t}\n}\n","import React, { Component } from 'react'\nimport { Container, Row, Col } from 'reactstrap';\nimport { Link } from 'react-router-dom';\n\nimport SearchResult from '../search-result'\n\nclass SimilarLicenses extends Component {\n\n\t// Simply loops through the similar results and calls the search result component for them\n\toutputSimilarResults = () => {\n\t\tlet similars = []\n\t\tthis.props.similars.forEach((license)=>{\n\t\t\tsimilars.push(<SearchResult data={license} key={'searchResultsLic'+license.license}/>)\n\t\t})\n\t\treturn similars\n\t}\n\n\t// This simple returns the link to everything combined\n\tcombinedDetails = () => {\n\t\tlet lics = [this.props.current.license]\n\t\tlet name = '';\n\t\tthis.props.similars.forEach((license)=>{\n\t\t\tlics.push(license.license);\n\t\t\tif(name===''){\n\t\t\t\tname = license.organization\n\t\t\t}\n\t\t})\n\t\treturn '/details/'+lics.join(',')+'/'+name.toLowerCase().replace(/[^a-z0-9]/g,'-')\n\t}\n\n\trender(){\n\t\t// If there are no similars we can leave this blank. \n\t\tif(this.props.similars === null || this.props.similars.length === 0){\n\t\t\treturn null\n\t\t}else{\n\t\t\treturn (<Container className={'similar-box'}>\n\t\t\t\t<Row>\n\t\t\t\t\t<h3 className={'fancy'}>Similar Licenses</h3>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t{this.outputSimilarResults()}\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col className={'combine-link justify-content-end'}><Link to={this.combinedDetails()} className={'btn  btn-outline-primary'}>Combine all above orginizations</Link></Col>\n\t\t\t\t</Row>\n\t\t\t</Container>)\n\t\t}\n\t}\n}\n\nexport default SimilarLicenses;","import React, { Component } from 'react'\nimport { Container, Row, Col } from 'reactstrap';\n// import { push } from 'connected-react-router'\n// import { bindActionCreators } from 'redux'\n// import { connect } from 'react-redux'\n// import ReactTable from \"react-table\";\n\nclass LicenseBox extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdisplayed: 0,\n\t\t}\n\t}\n\n\t// This will check the nuber of licenses and display those buttons accordingly\n\tlicenseNavDisplay = () => {\n\t\tif(this.props.licenses.length>1){\n\t\t\treturn (<span className=\"license-traversal-btn\">\n\t\t\t\t<button onClick={this.updateDisplayedLicense} className={'btn btn-outline-primary'} disabled={this.licenseNavDisabled(-1)} data-adjustment={-1} id={'lic-back-b'}>Back</button>\n\t\t\t\t<span className={\"btn not-a-btn\"}>{this.state.displayed+1} of {this.props.licenses.length}</span>\n\t\t\t\t<button onClick={this.updateDisplayedLicense} className={'btn btn-outline-primary'} disabled={this.licenseNavDisabled( 1)} data-adjustment={1} id={'lic-forward-b'}>Forward</button>\n\t\t\t</span>)\n\t\t}else{\n\t\t\treturn null\n\t\t}\n\t}\n\n\t// This will return true or fale to let the buttons know if they need to be disabled or not\n\tlicenseNavDisabled = (direction) => {\n\t\tif(direction < 0){\n\t\t\tif(this.state.displayed+direction < 0){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else if(direction > 0){\n\t\t\tif(direction > 0 && this.state.displayed+direction >= this.props.licenses.length ){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else{\n\t\t\t// If all else fails give up and quit\n\t\t\treturn false\n\t\t}\n\t}\n\n\t// This updated the displayedLicense value, and prevent it from going out-of-bounds.\n\tupdateDisplayedLicense = (e) => {\n\t\t// Get the adjustment direction and the new Integer\n\t\tlet adj = parseInt(e.target.dataset.adjustment);\n\t\tlet newI = this.state.displayed+adj\n\t\t\n\t\t// Make sure the request is still within range, update the state via a tempState\n\t\tif(newI>=0 && newI<this.props.licenses.length){\n\t\t\tlet tempState = this.state;\n\t\t\ttempState.displayed = newI\n\t\t\tthis.setState(tempState);\n\t\t}\n\t}\n\n\trender(){ \n\t\t// If there are no lices this box should not show, can happen for a moment before the API gets back to us.\n\t\tif(this.props.licenses[this.state.displayed].address===undefined){\n\t\t\treturn null\n\t\t}else{\n\t\t\tlet lic = this.props.licenses[this.state.displayed]; // easier to use lci than that whole thing\n\t\t\treturn (<Container>\n\t\t\t\t<Row className={'lic-orgname'}><Col xs=\"auto\" className=\"mr-auto\" tag={'h1'}>{lic.organization}</Col><Col xs=\"auto\">{this.licenseNavDisplay()}</Col></Row>\n\t\t\t\t<Row className={'lic-details'}>\n\t\t\t\t\t<Col xs=\"2\">Address</Col>\n\t\t\t\t\t<Col xs=\"10\">{lic.address+' '+(lic.address_line_2!==undefined?lic.address_line_2:'')+' '+lic.city+', '+lic.state+' '+lic.zip}</Col>\n\t\t\t\t\t<Col xs=\"2\">County</Col>\n\t\t\t\t\t<Col xs=\"4\">{lic.county}</Col>\n\t\t\t\t\t<Col xs=\"2\">Phone Number</Col>\n\t\t\t\t\t<Col xs=\"4\">{lic.dayphone}</Col>\n\t\t\t\t\t<Col xs=\"2\">Type</Col>\n\t\t\t\t\t<Col xs=\"10\">{lic.type}</Col>\n\t\t\t\t\t<Col xs=\"2\">UBI</Col>\n\t\t\t\t\t<Col xs=\"4\">{lic.ubi}</Col>\n\t\t\t\t\t<Col xs=\"2\">License Number</Col>\n\t\t\t\t\t<Col xs=\"4\">{lic.license}</Col>\n\t\t\t\t\t<Col xs=\"2\">Creation Date</Col>\n\t\t\t\t\t<Col xs=\"4\">{lic.createdate}</Col>\n\t\t\t\t\t<Col xs=\"2\">Status</Col>\n\t\t\t\t\t<Col xs=\"4\">{lic.active}</Col>\n\t\t\t\t</Row>\n\t\t\t</Container>)\n\n\t\t}\n\t}\n}\n\nexport default LicenseBox;","import React, { Component } from 'react'\n\nclass Visit extends Component {\n\trender(){\n\t\t// The output, plus were not gonna show the date over and over\n\t\tlet output = [];\n\t\tlet hasDated = false;\n\n\t\t// Loop through all the reocrds, each will get it's own table row\n\t\tthis.props.visitRecord.records.forEach((record,index)=>{\n\n\t\t\t// Prepare the date\n\t\t\tlet displayDate = (hasDated?'':this.props.visitRecord.date);\n\t\t\thasDated = true;\n\n\t\t\t// Prepare the license, and wrap it in a td if were going to display it\n\t\t\tlet displayLicense = null;\n\t\t\tif(this.props.showLic){\n\t\t\t\tdisplayLicense = (<td>{record.license_number}</td>)\n\t\t\t}\n\n\t\t\t// Prepare the output of the details line, pretty different if it's a visit or a violation\n\t\t\tlet displayDetail = record.activity\n\t\t\tif(record.type==='violation'){\n\t\t\t\tdisplayDetail = <div key={'violation'+index} className=\"activity violation\"><span className={'wac-code'}><a href={'http://apps.leg.wa.gov/wac/default.aspx?cite='+record.wac_code.replace(/\\(.+\\)/,'')} target=\"_blank\" rel=\"noopener noreferrer\">{record.wac_code}</a></span>{record.violation_type}<i>{record.penalty_type}</i></div>\n\t\t\t}\n\n\t\t\t// Add the row to th eoutput, then output\n\t\t\toutput.push(<tr key={this.props.visitRecord.index+'-'+index}>\n\t\t\t\t<td className={'date'}>{displayDate}</td>\n\t\t\t\t{displayLicense}\n\t\t\t\t<td>{displayDetail}</td>\n\t\t\t</tr>)\n\t\t});\n\t\treturn output\n\t}\n}\n\nexport default Visit;","import React, { Component } from 'react'\nimport { Container, Row, Col } from 'reactstrap';\n// import { push } from 'connected-react-router'\n// import { bindActionCreators } from 'redux'\n// import { connect } from 'react-redux'\n// import ReactTable from \"react-table\";\n\n// Components\nimport SimilarLicenses from '../details-similarbox'\nimport LicenseBox from '../license-box'\nimport Visit from '../details-visit'\n\nclass Detail extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tlet lics = props.match.params.license.split(',');\n\t\tthis.state = {\n\t\t\t'name': '',\n\t\t\t'license': lics,\n\t\t\t'licenseDetails': [{organization:''}],\n\t\t\t'similarLicenses': null,\n\t\t\t'displayedLicense': 0,\n\t\t\t'visits': null,\n\t\t\t'violations': null,\n\t\t\t'vvOrdered': null,\n\t\t}\n\t\t// Loop through all the licenses and grab the details we need\n\t\tthis.getLicenseDetails();\n\t\tthis.getVisits();\n\t\tthis.getViolations();\n\t}\n\n\t// This will grab the basic license information for the procided license number\n\tgetLicenseDetails = (licNum) => {\n\t\tlet licDetailsCall = ['https://data.lcb.wa.gov/resource/bhbp-x4eb.json?'];\n\t\tlicDetailsCall.push('$where=license in (\"'+this.state.license.join('\",\"')+'\") ')\n\t\tfetch(licDetailsCall.join('')).then(response => response.json()).then(this.storeAPIResults.bind(null,'licDetails'))\n\t}\n\n\t// This will look for other licenses that may have the same organization name, so we can give the option to combine.\n\tgetSimilarLicenses = (licNum) => {\n\t\tif(this.state.similarLicenses===null){\n\t\t\t// QUick little update to turn the similarLicenses into an array\n\t\t\tlet tempState = this.state;\n\t\t\ttempState.similarLicenses = [];\n\t\t\tthis.setState(tempState);\n\t\t\t// Now we can make the call knowing it won't happen more than once\n\t\t\tlet licDetailsCall = ['https://data.lcb.wa.gov/resource/bhbp-x4eb.json?'];\n\t\t\tlicDetailsCall.push('$where=organization like \"'+this.state.name+'\" ')\n\t\t\tlicDetailsCall.push('or ubi%20like%20%27'+this.state.ubi+'%25%27')\n\t\t\tfetch(licDetailsCall.join('')).then(response => response.json()).then(this.storeAPIResults.bind(null,'similarLicenses'))\n\t\t}\n\t}\n\n\t// This will query the API and get a list of vists, this data is pretty slim but it'll be good to have a idea of how often v how many violations\n\tgetVisits = (licNum) => {\n\t\tlet visitsCall = ['https://data.lcb.wa.gov/resource/w7wg-8m52.json?'];\n\t\tvisitsCall.push('$where=license_number in (\"'+this.state.license.join('\",\"')+'\") ')\n\t\tvisitsCall.push('&$order=date desc')\n\t\tfetch(visitsCall.join('')).then(response => response.json()).then(this.storeAPIResults.bind(null,'visits'))\n\t}\n\n\t// This will query the API and get a list of violations, then call the store function to store it appropriatly\n\tgetViolations = (licNum) => {\n\t\tlet violationsCall = ['https://data.lcb.wa.gov/resource/dgm4-3cm6.json?'];\n\t\tviolationsCall.push('$where=license_number in (\"'+this.state.license.join('\",\"')+'\") ')\n\t\tviolationsCall.push('&$order=visit_date desc')\n\t\tfetch(violationsCall.join('')).then(response => response.json()).then(this.storeAPIResults.bind(null,'violations'))\n\t}\n\n\t// This will store the API results depending on the call\n\tstoreAPIResults = (source,records) => {\n\t\tlet tempState = this.state;\n\t\tswitch(source){\n\t\t\tcase 'violations':\n\t\t\tcase 'visits':\n\t\t\t\tif(tempState[source]===null){\n\t\t\t\t\ttempState[source] = []\n\t\t\t\t}\n\t\t\t\ttempState[source] = tempState[source].concat(records)\n\t\t\tbreak;\n\t\t\tcase 'licDetails':\n\t\t\t\ttempState['licenseDetails'] = records;\n\t\t\t\ttempState['name'] = records[0].organization\n\t\t\t\t// Once we have the name we can check and see if others share that name.\n\t\t\t\tthis.getSimilarLicenses();\n\t\t\tbreak;\n\t\t\tcase 'similarLicenses':\n\t\t\t\trecords.forEach((record) => {\n\t\t\t\t\tif(this.state.license.indexOf(record.license)<0){\n\t\t\t\t\t\ttempState.similarLicenses.push(record)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new Error('Unable to store the \"'+source+'\" type API results.');\n\t\t}\n\t\tthis.setState(tempState);\n\t\t// Check, if we have both the violations and the vists lets combine them into a date ordered list for a nice table or something\n\t\tif(tempState.visits!==null && tempState.violations!==null){\n\t\t\tthis.combineVisitsViolations()\n\t\t}\n\t}\n\n\t// This will look through the visits and violcations and create a array of references to them thats ordered by date for display\n\tcombineVisitsViolations = () => {\n\n\t\t// All this function does is return the object with the date pre-positioned, makes the code below cleaner\n\t\tlet visitRecord = (date='') => {\n\t\t\treturn {\n\t\t\t\tdate: date,\n\t\t\t\thasViolation: false,\n\t\t\t\trecords: [],\n\t\t\t}\n\t\t}\n\t\tlet combinedTemp = {}\n\n\t\t// First, lets loop through the visits\n\t\tthis.state.visits.forEach((visit,index) => {\n\t\t\tlet d = visit.date.substr(0,10);\n\t\t\tif(combinedTemp[d] === undefined){\n\t\t\t\tcombinedTemp[d] = visitRecord(d)\n\t\t\t}\n\t\t\tcombinedTemp[d].records.push({'type':'visit',...visit});\n\t\t})\n\t\t// Same thing but with the violations\n\t\tthis.state.violations.forEach((violation,index) => {\n\t\t\tlet d = violation.visit_date.substr(0,10); // not date like the other...\n\t\t\tif(combinedTemp[d] === undefined){\n\t\t\t\tcombinedTemp[d] = visitRecord(d)\n\t\t\t}\n\t\t\tcombinedTemp[d].hasViolation = true;\n\t\t\tcombinedTemp[d].records.push({'type':'violation',...violation});\n\t\t})\n\n\t\t// We only need the values in this case, the keys were just to order and combine visits and violations\n\t\tcombinedTemp = Object.keys(combinedTemp).map(function(k){return combinedTemp[k]});\n\t\t// And gotta flip it because the order is backwards, or not, really depends\n\t\t// combinedTemp = combinedTemp.reverse()\n\t\t// Now we are just going to store it in the state, thats right, there is no need to sort because the calls do that\n\t\tlet tempState = this.state;\n\t\ttempState.vvOrdered = combinedTemp\n\t\tthis.setState(tempState);\n\t}\n\n\t// This will get all the Visit components\n\tdisplayVisits = () => {\n\t\t// If we have liternally nothing then display nothing (it's got to get the first call, could put a loading message)\n\t\tif(this.state.vvOrdered === null){\n\t\t\treturn null\n\t\t}else{\n\t\t\t// Post a message if there is no visits or violations\n\t\t\tif(this.state.vvOrdered.length===0){\n\t\t\t\treturn (<div>\n\t\t\t\t\t<h3 className={'fancy'}>Visits & Violations</h3>\n\t\t\t\t\t<Row className={'no-visit-message'}>\n\t\t\t\t\t\t<Col>There or no visits or violations associated with this license.</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</div>)\n\t\t\t}\n\n\t\t\t// Ok, now that we know there are some, lets figure out how to render them\n\t\t\tlet showLic = this.state.license.length>1 ? true : false\n\t\t\tlet visits = [];\n\t\t\tthis.state.vvOrdered.forEach((visit,index)=>{\n\t\t\t\tvisit.index = index;\n\t\t\t\tvisits.push(<Visit key={visit.date} showLic={showLic} visitRecord={visit} visits={this.state.visits} violations={this.state.violations} />)\n\t\t\t})\n\n\t\t\t// Prepare a string for the visits/violations summary before the table\n\t\t\tlet summary = this.state.visits.length+' visits and ';\n\t\t\tif(this.state.violations.length>0){\n\t\t\t\tsummary += this.state.violations.length+' violations.';\n\t\t\t}else{\n\t\t\t\tsummary += 'no violations.'\n\t\t\t}\n\n\t\t\t// And a return of the Visits and Violations with the records\n\t\t\treturn (<div>\n\t\t\t\t<h3 className={'fancy'}>Visits & Violations</h3>\n\t\t\t\t<div className=\"visit-violation-summary\">{summary}</div>\n\t\t\t\t<table className={'table'}>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Date</th>\n\t\t\t\t\t\t\t{showLic?<th>License</th>:null}\n\t\t\t\t\t\t\t<th>Details</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{visits}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>)\n\t\t}\n\t}\n\n\trender(){ \n\t\treturn (\n\t\t\t<Container location={this.props.location.pathname}>\n\t\t\t\t<LicenseBox licenses={this.state.licenseDetails}/>\n\t\t\t\t<SimilarLicenses current={this.state.licenseDetails[this.state.displayedLicense]} similars={this.state.similarLicenses} />\n\t\t\t\t{this.displayVisits()}\n\t\t\t</Container>\n\t\t)\n\t}\n}\n\nexport default Detail;\n\n// This is usefull for debugging and just seeing whats going on\n// <pre>{JSON.stringify(this.state,null,2)}</pre>","import React, { Component } from 'react'\nimport { Container } from 'reactstrap';\nimport ReactMarkdown from 'react-markdown'\nimport ReadMe from '../../linked-readme.txt'\n\nclass About extends Component {\n\tconstructor(){\n\t\tsuper()\n\t\tthis.state = {readme:''};\n\t}\n\tcomponentWillMount(){\n\t\tfetch(ReadMe).then(r=>r.text()).then(t=>this.setState({readme:t}));\n\t}\n\t// Simple output, not really looking for a bnuch of hubub\n\trender(){ \n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<ReactMarkdown className={'readme-markdown'} source={this.state.readme} />\n\t\t\t</Container>\n\t\t)\n\t}\n}\n\nexport default About","import React, { Component } from 'react'\nimport { ListGroup, Container } from 'reactstrap';\nimport ReactPaginate from 'react-paginate';\nimport SearchResult from '../search-result'\nimport { Link } from 'react-router-dom';\n// import { push } from 'connected-react-router'\n// import { bindActionCreators } from 'redux'\n// import { connect } from 'react-redux'\n// import ReactTable from \"react-table\";\n\n// Components\n\nclass NaughtyList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tviolatorsData: {},\n\t\t\tviolatorsOrdered: [],\n\t\t\tpageSize: 50,\n\t\t};\n\t\t// Loop through all the licenses and grab the details we need\n\t\tthis.getNaughty();\n\t}\n\n\t// This function will save the data and keep on truckin\n\tsaveData = (data,saveType) => {\n\t\treturn new Promise((resolve,reject)=>{\n\t\t\tlet tempState = this.state;\n\t\t\tswitch(saveType){\n\t\t\t\tcase 'violatorsOrdered':\n\t\t\t\t\ttempState.violatorsOrdered = data;\n\t\t\t\tbreak;\n\t\t\t\tcase 'violatorsData':\n\t\t\t\t\tdata.forEach((license)=>{\n\t\t\t\t\t\ttempState.violatorsData[license.license] = license\n\t\t\t\t\t})\n\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treject(new Error('saveData does not know what to do with \"'+saveType+'\" type data.'));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.setState(tempState);\n\t\t\tresolve(data)\n\t\t});\n\t}\n\n\t// This will make the API call to get all violators grouped by violation count\n\tgetNaughty = () => {\n\t\tlet naughtyCall = ['https://data.lcb.wa.gov/resource/dgm4-3cm6.json?'];\n\t\tnaughtyCall.push('$select=license_number,count(penalty_type)');\n\t\tnaughtyCall.push('&$group=(license_number)&$order=count(penalty_type)desc');\n\t\tfetch(naughtyCall.join('')).then(response => response.json()).then((data)=>{return this.saveData(data,'violatorsOrdered')}).then(this.getLicenseData)\n\t}\n\n\t// This will take the Naughty data from the getNaughty function and add either add the appropriate license \n\t// data or delete the entry if no license data can be found (why that happens, IDK)\n\tgetLicenseData = (data) => {\n\t\tlet justLics = data.map((violator)=>{return violator.license_number});\n\t\t// //This call uses the justLics array to get all of them at ones (or try)\n\t\tlet licDetailsCall = ['https://data.lcb.wa.gov/resource/bhbp-x4eb.json?'];\n\t\tlicDetailsCall.push('$where=license in (\"'+justLics.join('\",\"')+'\") ')\n\t\tfetch(licDetailsCall.join('')).then(response => response.json()).then((data)=>{return this.saveData(data,'violatorsData')}).then(this.cleanNaughtyList)\n\t}\n\n\t// This function will remove the entries from state.violatorsOrdered that we could not find licenses for (no idea why)\n\t// This is done for simple and clean pagination\n\tcleanNaughtyList = () => {\n\t\tlet justLics = this.state.violatorsOrdered.map((violator)=>{return violator.license_number});\n\t\tlet tempState = this.state;\n\t\t// Loop through all the lics, checking to see if they are there, splice them out of the violatorsOrdered if there not\n\t\tjustLics.forEach((lic,index)=>{\n\t\t\tif(this.state.violatorsData[lic]===undefined){\n\t\t\t\ttempState.violatorsOrdered.splice(index,1)\n\t\t\t}\n\t\t});\n\t\t// Update state so the display changes\n\t\tthis.setState(tempState);\n\t}\n\n\t// Simply loops to call the list and renders it out, shared the SearchResults component.\n\tdisplayList = () => {\n\t\tlet page = this.props.match.params.page;\n\t\tif(page===undefined){\n\t\t\tpage = 1;\n\t\t}\n\t\tlet results = [];\n\t\tfor(let i = (page-1)*this.state.pageSize ; i<(page*this.state.pageSize) ; i++ ){\n\t\t\tif(this.state.violatorsOrdered[i]!==undefined){\n\t\t\t\tlet lic = this.state.violatorsOrdered[i].license_number;\n\t\t\t\tlet data = {'violations':this.state.violatorsOrdered[i].count_penalty_type,...this.state.violatorsData[lic]}\n\t\t\t\tresults.push(<SearchResult data={data} type=\"naughtyList\" key={'naughtyList'+lic}/>);\n\t\t\t}\n\t\t}\n\t\treturn results;\n\t}\n\n\t// Simply updates the page number in the state, all the display logic is in the module or in displayList\n\thandlePageChange = (goToNum) => {\n\t\tthis.props.history.push('/naughty/'+(goToNum.selected+1));\n\t}\n\n\trender = () => { \n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<p className={'naughty-note'}>This page lists all licenses by number of violations; records do not combine similar licenses, see <Link to={'/about/'}>About</Link> for more details. </p>\n\t\t\t\t<ListGroup className={'row'} flush>\n\t\t\t\t\t{this.displayList()}\n\t\t\t\t</ListGroup>\n\t\t\t\t<ReactPaginate \n\t\t\t\t\tpageCount={Math.ceil(this.state.violatorsOrdered.length/this.state.pageSize)} \n\t\t\t\t\tpageRangeDisplayed={5} \n\t\t\t\t\tmarginPagesDisplayed={3} \n\t\t\t\t\tonPageChange={this.handlePageChange}\n\t\t\t\t\tcontainerClassName={(this.state.violatorsOrdered.length<=this.state.pageSize?'pagination hidden':'pagination justify-content-center')}\n\t\t\t\t\tpageClassName={'page-item'}\n\t\t\t\t\tpageLinkClassName={'page-link'}\n\t\t\t\t\tactiveClassName={'active'}\n\t\t\t\t\tbreakClassName={'page-link page-item disabled'}\n\t\t\t\t\tpreviousClassName={'page-item'}\n\t\t\t\t\tnextClassName={'page-item'}\n\t\t\t\t\tpreviousLinkClassName={'page-link'}\n\t\t\t\t\tnextLinkClassName={'page-link'}\n\t\t\t\t\tdisabledClassName={'disabled'}\n\t\t\t\t/>\n\t\t\t</Container>\n\t\t)\n\t}\n}\n\t\t\t\t// <pre>{JSON.stringify(this.state,null,2)}</pre>\n\nexport default NaughtyList;","import React, { Component } from 'react';\n\n// The react router bits and the routes.js file that cintains all the routes (and wraps the withRouter)\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\n\n// For the bits that make scrolling work as expected.\nimport { ScrollContext } from 'react-router-scroll-4';\n\n// This contains the SVG spritesheet\nimport SVGSpritesheet from './resources/_svg-spritesheet.js';\n\n// Look at all the components\nimport HeaderBar    from './components/header-bar'\nimport Footer       from './components/footer'\nimport Home         from './components/home'\nimport Details      from './components/details' \nimport About        from './components/about' \nimport NaughtyList  from './components/naughty-list'\n\nclass App extends Component {\n    render() {\n        return (\n            <BrowserRouter basename={process.env.PUBLIC_URL+'/'}>\n                <ScrollContext>\n                    <div className=\"App\">\n                        <HeaderBar />\n\n                        <Switch>\n                            <Route exact path='/' component={Home} key={'Home'}/>\n                            <Route exact path='/search/:page' component={Home} key={'Home'}/>\n                            <Route path='/details/:license/:prettyname' component={Details} key={'Details'}/>\n                            <Route exact path='/about/' component={About} key={'About'}/>\n                            <Route exact path='/naughty/' component={NaughtyList} key={'NaughtyList'}/>\n                            <Route exact path='/naughty/:page' component={NaughtyList} key={'NaughtyList'}/>\n                        </Switch>\n\n                        <Footer />\n                        <SVGSpritesheet />\n                    </div>\n                </ScrollContext>\n            </BrowserRouter>\n        );\n    }\n}\n\nexport default App;\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","// Core react and DOM\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n// Redux store and provider\nimport { Provider } from 'react-redux'\nimport { createStore, compose } from 'redux'\nimport Reducer from './reducer.js'\n\n// The main app and supporting scripts\nimport App from './App';\n\n// Stylesheets\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './index.scss';\n\n// Support for things that do or don't exist depending on browser and if Venus is in retrograde\nimport * as serviceWorker from './serviceWorker';\n\n// Create the store\nconst store = compose(window.devToolsExtension ? window.devToolsExtension() : f => f)(createStore)(Reducer)\n\n// Main reder, contains all other renders that are placed around here.\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/README.1c27cfa5.md\";"],"sourceRoot":""}